{% extends "main.html" %} 
{% load static %} 
{% block pageBody %}
<div class="container-fluid" ng-controller = "homePageController">
    <div class="col-md-10 col-sm-12 col-md-offset-1">
        <div class="col-md-12 no-padding">
            <h3 class="">Promises</h3>
        </div>
        <div class="col-md-12 no-padding" style="height:200px;">
            <div class = "col-md-4 col-sm-8 height-100 flex-container text-center" ng-hide="status">
            <i class = "fa fa-2x fa-spinner fa-spin"></i>
            <span class = "col-md-12">Loading Status</span>
            </div>
            <div class="col-md-4 col-sm-8 height-100" ng-if = "status" id = "progressBar">
                <span class="progress-bar-text">
                            Not Started ([[status.not_started]] of [[status.total]])
                    </span>
                <div class="progress progress-custom">
                    <div class="progress-bar progress-bar-idle progress-bar-striped" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:[[status.not_started*100/status.total]]%">
                    </div>
                </div>
                <span class="progress-bar-text">
                            Completed ([[status.completed]] of [[status.total]])
                    </span>
                <div class="progress progress-custom">
                    <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:[[status.completed*100/status.total]]%">
                    </div>
                </div>
                <span class="progress-bar-text">
                            In Progress ([[status.in_progress]] of [[status.total]])
                    </span>
                <div class="progress progress-custom">
                    <div class="progress-bar progress-bar-warning progress-bar-striped" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:[[status.in_progress*100/status.total]]%">
                    </div>
                </div>
                <span class="progress-bar-text">
                            Broken ([[status.broken]] of [[status.total]])
                    </span>
                <div class="progress  progress-custom">
                    <div class="progress-bar progress-bar-danger progress-bar-striped" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:[[status.broken*100/status.total]]%">
                    </div>
                </div>
            </div>
            <div class="col-md-8 col-sm-4 height-100 border-thick no-padding">
                <div class = "col-md-6 padding-10">
                    <p class = "desc-text">
                    The Pinarayi Meter is an independent initiative that tracks his performance with regards to his electoral platform.
                </p>
                </div>
                <div class = "col-md-6 hidden-sm no-padding">
                <img src="{% static 'images/pinarayi_profile.jpg' %}" class=" pull-right profile-image">        

                </div>
                
            </div>
        </div>
    </div>
    <div class="col-md-10 col-sm-12 col-md-offset-1">
        <h4 class="category-titles" >
            The Thirty Five Point Programme
            
        </h4> 
        {% for promise in topPromises %}
        <a class="col-md-12 promise-list no-padding" href="/promise/details/{{promise.uuid}}">
            <span class="col-md-10 promise-title flex-container">
                    {{promise.title}}
                </span>
            <!-- <h4 class = "promise-title">
                    {{promise.title}}
                </h4> -->
            <span class="col-md-2 promise-status">
                    <span class="pull-right">
                            {{promise.status}}
                    </span>
            </span>
            <!-- {{promise.status}} -->
        </a>
        {% endfor %}
        <span class ="col-md-12">
            <a class = "category-link pull-right" href = "/promise/35-point-programme">
                view more..
            </a>
        </span>
    </div>
    <div class="col-md-10 col-sm-12 col-md-offset-1">
        <h4 class = "category-titles text-center">
            <span class = "category-item" ng-click = "selectedCategory = 'agriculture'" ng-class = "{'category-item-selected':selectedCategory == 'agriculture'}">Agriculture</span>

            <span class = "category-item" ng-click = "selectedCategory = 'education'" ng-class = "{'category-item-selected':selectedCategory == 'education'}">Education</span>
            <span class = "category-item" ng-click = "selectedCategory = 'health'" ng-class = "{'category-item-selected':selectedCategory == 'health'}">Health</span> 

            <span class = "category-item" ng-click = "selectedCategory = 'industries'" ng-class = "{'category-item-selected':selectedCategory == 'industries'}">Industries</span> 

            <span class = "category-item" ng-click = "selectedCategory = 'lawandorder'" ng-class = "{'category-item-selected':selectedCategory == 'lawandorder'}">Law & Order</span>

            <span class = "category-item" ng-click = "selectedCategory = 'it'" ng-class = "{'category-item-selected':selectedCategory == 'it'}">IT</span>
            <span class = "category-item" ng-click = "selectedCategory = 'tourism'" ng-class = "{'category-item-selected':selectedCategory == 'tourism'}">Tourism</span>
            <span class = "category-item" ng-click = "selectedCategory = 'infrastructure'" ng-class = "{'category-item-selected':selectedCategory == 'infrastructure'}">Infrastructure</span>
            <!-- <span class = "category-item" ng-click = "selectedCategory = 'humandevelopment'" ng-class = "{'category-item-selected':selectedCategory == 'humandevelopment
            '}">Human Develoment</span> -->
            <span class = "category-item" ng-click = "selectedCategory = 'others'" ng-class = "{'category-item-selected':selectedCategory == 'others'}">Others</span>
        </h4>
    </div>
    <div class = "col-md-10 col-sm-12 col-md-offset-1">
        <a class="col-md-12 promise-list no-padding" href="/promise/details/[[eachPromise.fields.uuid]]" ng-repeat = "eachPromise in categoryData[selectedCategory]">
            <span class="col-md-10 promise-title flex-container">
                    [[eachPromise.fields.title]]
                </span>
            
            <span class="col-md-2 promise-status">
                    <span class="pull-right">
                            [[eachPromise.fields.status]]
                    </span>
            </span>
            <!-- {{promise.status}} -->
        </a>
        <span class ="col-md-12">
            <a class = "category-link pull-right" href = "/promise/category/[[selectedCategory]]">
                view more..
            </a>
        </span>
    </div>
</div>
{% endblock %}

<script type="text/javascript">
    
</script>
