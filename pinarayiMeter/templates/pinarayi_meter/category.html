{% extends "main.html" %}
{% load static %}
{% block pageBody %}

<div class = "container-fluid" ng-controller="categoryController">
    <div class="col-md-10 col-sm-12 col-md-offset-1">
        <div class="col-md-12 no-padding">
            <h3 class="">Promises</h3>
        </div>
        <div class="col-md-12 no-padding" style="height:200px;">
            <div class = "col-md-4 col-sm-8 height-100 flex-container text-center" ng-hide="status">
            <i class = "fa fa-2x fa-spinner fa-spin"></i>
            <span class = "col-md-12">Loading Status</span>
            </div>
            <div class="col-md-4 col-sm-8 height-100" ng-if = "status">
                <span class="progress-bar-text">
                            Not Started ([[status.not_started]] of [[status.total]])
                    </span>
                <div class="progress progress-custom">
                    <div class="progress-bar progress-bar-idle progress-bar-striped" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:[[status.not_started*100/status.total]]%">
                    </div>
                </div>
                <span class="progress-bar-text">
                            Completed ([[status.completed]] of [[status.total]])
                    </span>
                <div class="progress progress-custom">
                    <div class="progress-bar progress-bar-success progress-bar-striped" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:[[status.completed*100/status.total]]%">
                    </div>
                </div>
                <span class="progress-bar-text">
                            In Progress ([[status.in_progress]] of [[status.total]])
                    </span>
                <div class="progress progress-custom">
                    <div class="progress-bar progress-bar-warning progress-bar-striped" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:[[status.in_progress*100/status.total]]%">
                    </div>
                </div>
                <span class="progress-bar-text">
                            Broken ([[status.broken]] of [[status.total]])
                    </span>
                <div class="progress  progress-custom">
                    <div class="progress-bar progress-bar-danger progress-bar-striped" role="progressbar" aria-valuenow="40" aria-valuemin="0" aria-valuemax="100" style="width:[[status.broken*100/status.total]]%">
                    </div>
                </div>
            </div>
            <div class="col-md-8 col-sm-4 height-100 border-thick no-padding">
                <div class = "col-md-6 padding-10">
                    <p class = "desc-text">
                    The Pinarayi Meter is an independent initiative that tracks his performance with regards to his electoral platform.
                </p>
                </div>
                <div class = "col-md-6 hidden-sm no-padding">
                <img src="{% static 'images/pinarayi_profile.jpg' %}" class=" pull-right profile-image">        

                </div>
                
            </div>
        </div>
    </div>
    <div class="col-md-10 col-sm-12 col-md-offset-1">
        <h4 class="category-titles" >
            {{category_name}}
            
        </h4> 
        {% for promise in promises %}
        <a class="col-md-12 promise-list no-padding" href="/promise/details/{{promise.uuid}}">
            <span class="col-md-10 promise-title flex-container">
                    {{promise.title}}
                </span>
            <!-- <h4 class = "promise-title">
                    {{promise.title}}
                </h4> -->
            <span class="col-md-2 promise-status">
                    <span class="pull-right">
                            {{promise.status}}
                    </span>
            </span>
            <!-- {{promise.status}} -->
        </a>
        {% endfor %}
    </div>
</div>
{% endblock %}